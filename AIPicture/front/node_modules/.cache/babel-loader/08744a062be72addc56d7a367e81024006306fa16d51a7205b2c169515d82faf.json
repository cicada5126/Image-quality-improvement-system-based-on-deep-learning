{"ast":null,"code":"export default {\n  name: 'CompareImage',\n  props: {\n    value: {\n      default: 50\n    },\n    step: {\n      default: '.1'\n    },\n    height: {\n      default: null\n    }\n  },\n  template: `#compare-template`,\n  data() {\n    return {\n      width: null,\n      compareWidth: this.value\n    };\n  },\n  watch: {\n    value() {\n      this.compareWidth = this.value;\n    }\n  },\n  mounted() {\n    this.width = this.getContainerWidth();\n  },\n  methods: {\n    handleInput(e) {\n      this.compareWidth = e.target.value;\n      this.$emit('input', e.target.value);\n    },\n    handleResize() {\n      const w = this.getContainerWidth();\n      if (w === this.width) return;\n      this.width = w;\n      console.log(this.width);\n    },\n    getContainerWidth() {\n      return window.getComputedStyle(this.$el, null).getPropertyValue('width');\n    }\n  }\n};","map":{"version":3,"mappings":"AAwCA;EACAA;EACAC;IACAC;MAAAC;IAAA;IACAC;MAAAD;IAAA;IACAE;MAAAF;IAAA;EACA;EACAG;EACAC;IACA;MACAC;MACAC;IACA;EACA;EACAC;IACAR;MACA;IACA;EACA;EACAS;IACA;EACA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA,sBACA;MACA;MACAC;IACA;IACAC;MACA;IACA;EACA;AACA","names":["name","props","value","default","step","height","template","data","width","compareWidth","watch","mounted","methods","handleInput","handleResize","console","getContainerWidth"],"sourceRoot":"src/components","sources":["CompareImage.vue"],"sourcesContent":["\r\n<template id=\"compare-template\" >\r\n  <div class=\"com_container\">\r\n    <div class=\"compare-wrapper\">\r\n      <div class=\"compare compare_bg\">\r\n        <div class=\"compare__content\" :style=\"{ 'width': width,'height': height+'px',}\">\r\n          <!-- 第一张图片的位置 -->\r\n          <img slot=\"first\" class=\"h-64 object-fit-cover h-full w-full\" src=\"http://localhost:8080/picture/OriginalPicture.png\" alt=\"\">\r\n          <slot name=\"first\"></slot>\r\n        </div>\r\n        <div class=\"handle-wrap\" :style=\"{ left: `calc(${compareWidth + '%'} - var(--handle-line-width) / 2` }\">\r\n          <div class=\"handle\">\r\n            <!-- 这是两个箭头的svg代码-->\r\n            <svg class=\"handle__arrow handle__arrow--l feather feather-chevron-left\"\r\n                 xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\r\n                 stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n              <polyline points=\"15 18 9 12 15 6\" />\r\n            </svg>\r\n            <svg class=\"handle__arrow handle__arrow--r feather feather-chevron-right\"\r\n                 xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\r\n                 stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\r\n              <polyline points=\"9 18 15 12 9 6\" />\r\n            </svg>\r\n          </div>\r\n          <span class=\"handle-line\"></span>\r\n        </div>\r\n        <div class=\"compare-overlay \" :style=\"{ width: `calc(${compareWidth + '%'})` }\">\r\n          <div class=\"compare-overlay__content\" :style=\"{ 'width': width }\">\r\n            <!-- 第二章图片的位置 -->\r\n            <img slot=\"second\" class=\"object-fit-cover h-full w-full\" src=\"http://localhost:8080/picture/OriginalPicture_prid.jpg\" alt=\"\">\r\n            <slot name=\"second\"></slot>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <input type=\"range\" min=\"0\" max=\"100\" :step=\"step\" class=\"compare__range\" :value=\"compareWidth\" @input=\"handleInput\" tabindex=\"-1\">\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'CompareImage',\r\n  props: {\r\n    value: { default: 50 },\r\n    step: { default: '.1' },\r\n    height:{ default:null }\r\n  },\r\n  template: `#compare-template`,\r\n  data() {\r\n    return {\r\n      width: null,\r\n      compareWidth: this.value,\r\n    }\r\n  },\r\n  watch: {\r\n    value() {\r\n      this.compareWidth = this.value\r\n    }\r\n  },\r\n  mounted() {\r\n    this.width = this.getContainerWidth();\r\n  },\r\n  methods: {\r\n    handleInput(e) {\r\n      this.compareWidth = e.target.value\r\n      this.$emit('input', e.target.value)\r\n    },\r\n    handleResize() {\r\n      const w = this.getContainerWidth();\r\n      if (w === this.width)\r\n        return;\r\n      this.width = w\r\n      console.log(this.width)\r\n    },\r\n    getContainerWidth() {\r\n      return window.getComputedStyle(this.$el, null).getPropertyValue('width')\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n:root {\r\n  --handle-bg: #f2f2f2;\r\n  --handle-width: 60px;\r\n  --handle-height: 60px;\r\n  --handle-chevron-size: 120px;\r\n  --handle-line-bg: #f2f2f2;\r\n  --handle-line-width: 2px;\r\n  --handle-line-height: 100%;\r\n  --z-index-handle: 5;\r\n  --z-index-handle-line: 4;\r\n  --z-index-range-input: 6;\r\n}\r\n.com_container{\r\n  max-width: 1200px;\r\n  text-align: center\r\n}\r\n.compare-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.compare,\r\n.compare__content {\r\n  position: relative;\r\n  height: 100%;\r\n}\r\n /*因为我的图片有一个是去完背景和没去背景的对比，所以我给他添加了一个背景图，不需要的小伙伴去掉就好了！*/\r\n.compare_bg{\r\n  /*background-image: url(../../public/imgs/bgremove_bg.png);*/\r\n\r\n}\r\n\r\n.compare-overlay {\r\n  position: absolute;\r\n  overflow: hidden;\r\n  height: 100%;\r\n  top: 0;\r\n}\r\n\r\n.compare-overlay__content {\r\n  position: relative;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\n.handle__arrow {\r\n  position: absolute;\r\n  width: var(--handle-chevron-size);\r\n}\r\n\r\n.handle__arrow--l {\r\n  left: 0;\r\n}\r\n\r\n.handle__arrow--r {\r\n  right: 0;\r\n}\r\n\r\n.handle-wrap {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: absolute;\r\n  top: 50%;\r\n  height: 100%;\r\n  transform: translate(-50%, -50%);\r\n  z-index: var(--z-index-handle);\r\n}\r\n\r\n.handle {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  background: var(--handle-bg);\r\n  border-radius: 50%;\r\n  width: var(--handle-width);\r\n  height: var(--handle-height);\r\n}\r\n\r\n.handle-line {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  width: var(--handle-line-width);\r\n  height: 100%;\r\n  background: var(--handle-line-bg);\r\n  z-index: var(--z-index-handle-line);\r\n  pointer-events: none;\r\n  user-select: none;\r\n}\r\n\r\n.compare__range {\r\n  position: absolute;\r\n  cursor: ew-resize;\r\n  left: calc(var(--handle-width) / -2);\r\n  width: calc(100% + var(--handle-width));\r\n  transform: translatey(-50%);\r\n  top: calc(50%);\r\n  z-index: var(--z-index-range-input);\r\n  -webkit-appearance: none;\r\n  height: var(--handle-height);\r\n  background: rgba(0, 0, 0, .4);\r\n  opacity: .0;\r\n}\r\n\r\n.object-fit-cover {\r\n  object-fit: cover;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}