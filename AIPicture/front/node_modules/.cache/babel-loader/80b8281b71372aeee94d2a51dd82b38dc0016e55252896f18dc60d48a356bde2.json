{"ast":null,"code":"import axios from 'axios';\nimport Student from './components/Student.vue';\nexport default {\n  name: 'App',\n  components: {\n    Student\n  },\n  data() {\n    return {\n      page: 1,\n      students: [],\n      dialogVisible: false,\n      newStudent: {\n        number: \"\",\n        name: \"\",\n        age: \"\",\n        chinese: \"\",\n        math: \"\",\n        english: \"\"\n      }\n    };\n  },\n  methods: {\n    getStudents() {\n      axios({\n        url: \"http://localhost:8080/students\",\n        method: \"GET\"\n      }).then(res => {\n        console.log(res.data);\n        this.students = res.data;\n      });\n    },\n    handleClose(done) {\n      this.$confirm('确认关闭？').then(() => {\n        done();\n      }).catch(() => {});\n    },\n    addStudent() {\n      axios({\n        url: \"http://localhost:8080/add\",\n        method: \"POST\",\n        data: this.newStudent\n      });\n      this.dialogVisible = false;\n    }\n  },\n  computed: {\n    students_for_page() {\n      return this.students.slice(this.page * 10 - 10, this.page * 10);\n    }\n  }\n};","map":{"version":3,"mappings":"AAiDA;AACA;AAEA;EACAA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAR;QACAS;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACAC;MACAC;QACAC;QACAC;MACA;QACAC;QACA;MACA;IACA;IAEAC;MACA,uBACAC;QACAC;MACA,GACAC;IACA;IAEAC;MACAR;QACAC;QACAC;QACAd;MACA;MACA;IACA;EACA;EACAqB;IACAC;MACA;IACA;EACA;AACA","names":["name","components","Student","data","page","students","dialogVisible","newStudent","number","age","chinese","math","english","methods","getStudents","axios","url","method","console","handleClose","then","done","catch","addStudent","computed","students_for_page"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <div class=\"col-8 offset-2\">\n      <table class=\"table caption-top table-hover\">\n        <caption class=\"text-center\">\n          <div>学生管理系统</div>\n          <el-button type=\"primary\" @click = \"getStudents\">刷新列表</el-button>\n          <el-button type=\"warning\" @click=\"dialogVisible = true\">添加学生信息</el-button>\n          <el-dialog title=\"提示\" :visible.sync=\"dialogVisible\" width=\"30%\" :before-close=\"handleClose\">\n            <div>请输入学生信息</div>\n            <br><span>学 号 </span><input v-model.number=\"newStudent.number\"/>\n            <br><span>姓 名 </span><input v-model=\"newStudent.name\"/>\n            <br><span>年 龄 </span><input v-model.number=\"newStudent.age\"/>\n            <br><span>语 文 </span><input v-model.number=\"newStudent.chinese\"/>\n            <br><span>数 学 </span><input v-model.number=\"newStudent.math\"/>\n            <br><span>英 语 </span><input v-model.number=\"newStudent.english\"/>\n            <span slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"dialogVisible = false\">取 消</el-button>\n              <el-button type=\"primary\" @click=\"addStudent\">确 定</el-button>\n            </span>\n          </el-dialog>\n        </caption>\n        <thead>\n        <tr>\n          <th scope=\"col\">学号</th>\n          <th scope=\"col\">姓名</th>\n          <th scope=\"col\">年龄</th>\n          <th scope=\"col\">语文成绩</th>\n          <th scope=\"col\">数学成绩</th>\n          <th scope=\"col\">英语成绩</th>\n          <th scope=\"col\">操作</th>\n        </tr>\n        <th></th>\n        </thead>\n        <tbody>\n        <Student v-for=\"stu in students\" :key=\"stu.id\" :student = \"stu\"></Student>\n        </tbody>\n      </table>\n      <div class=\"text-center\">\n        <el-button-group>\n          <el-button type=\"primary\" icon=\"el-icon-arrow-left\">上一页</el-button>\n          <el-button type=\"primary\">下一页<i class=\"el-icon-arrow-right el-icon--right\"></i></el-button>\n        </el-button-group>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport Student from './components/Student.vue'\n\nexport default {\n  name: 'App',\n  components: {\n    Student\n  },\n  data(){\n    return{\n      page:1,\n      students:[],\n      dialogVisible: false,\n      newStudent:{\n        number:\"\",\n        name:\"\",\n        age:\"\",\n        chinese:\"\",\n        math:\"\",\n        english:\"\"\n      }\n    }\n  },\n  methods:{\n    getStudents(){\n      axios({\n        url:\"http://localhost:8080/students\",\n        method:\"GET\",\n      }).then(res=>{\n        console.log(res.data);\n        this.students = res.data;\n      })\n    },\n\n    handleClose(done) {\n      this.$confirm('确认关闭？')\n          .then(() => {\n            done();\n          })\n          .catch(() => {});\n    },\n\n    addStudent(){\n      axios({\n        url:\"http://localhost:8080/add\",\n        method:\"POST\",\n        data:this.newStudent,\n      })\n      this.dialogVisible = false;\n    }\n  },\n  computed:{\n    students_for_page(){\n      return this.students.slice(this.page*10-10,this.page*10);\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}